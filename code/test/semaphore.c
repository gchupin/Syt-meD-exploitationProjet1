#include "syscall.h"

int SEM;

void print (void* ch)
{
  volatile int i;
  for (i = 0; i < 10; ++i)
    PutChar ((int)ch);
  V (SEM);
}

//Create 6 threads that will execute one at a time.
int main ()
{ 
  SEM = SemCreate (1);
  P (SEM);
  ThreadCreate(print, (void*)'a');
  P (SEM);
  ThreadCreate(print, (void*)'b');
  P (SEM);
  ThreadCreate(print, (void*)'c');
  P (SEM);
  ThreadCreate(print, (void*)'d');
  P (SEM);
  ThreadCreate(print, (void*)'e');
  P (SEM);
  ThreadCreate(print, (void*)'f');
  P (SEM);
  SemDelete (SEM);
  return 1;
}
